
<div class="image-fit-all" *ngIf="!isSuccessful" style="height: 140vh;"> 
    <div class="card card-container">

      <!--<img id="profile-img" 
      src="//ssl.gstatic.com/accounts/ui/avatar_2x.png" 
      class="profile-img-card" />-->
      <h4 style="text-align: center;">Registro de Usuario</h4>
      <form *ngIf="!isSuccessful" name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
        <div class="form-group">
          <label for="username">Nombre</label>
          <input type="text" class="form-control" name="name" [(ngModel)]="form.name" required minlength="3"
            maxlength="20" #name="ngModel" />
          <div class="alert-danger" *ngIf="f.submitted && name.invalid">
            <div *ngIf="name.errors.required">Se necesita un nombre.</div>
            <div *ngIf="name.errors.minlength">
              El nombre debe tener al menos 3 caracteres.
            </div>
            <div *ngIf="name.errors.maxlength">
              El nombre debe tener máximo 20 caracteres.
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="username">Apellido</label>
          <input type="text" class="form-control" name="lastname" [(ngModel)]="form.lastname" required minlength="3"
            maxlength="20" #lastname="ngModel" />
          <div class="alert-danger" *ngIf="f.submitted && lastname.invalid">
            <div *ngIf="lastname.errors.required">El apellido es requerido.</div>
            <div *ngIf="lastname.errors.minlength">
              El apellido debe tener al menos 3 caracteres.
            </div>
            <div *ngIf="lastname.errors.maxlength">
              El apellido debe tener máximo 20 caracteres.
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="username">Usuario</label>
          <input type="text" class="form-control" name="username" [(ngModel)]="form.username" required minlength="3"
            maxlength="20" #username="ngModel" />
          <div class="alert-danger" *ngIf="f.submitted && username.invalid">
            <div *ngIf="username.errors.required">El usuario es requerido.</div>
            <div *ngIf="username.errors.minlength">
              El usuario debe tener al menos 3 caracteres.
            </div>
            <div *ngIf="username.errors.maxlength">
              El usuario debe tener máximo 20 caracteres.
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="email">Correo</label>
          <input type="email" class="form-control" name="email" [(ngModel)]="form.email" required email
            #email="ngModel" />
          <div class="alert-danger" *ngIf="f.submitted && email.invalid">
            <div *ngIf="email.errors.required">El correo es requerido.</div>
            <div *ngIf="email.errors.email">
              Debe ser un correo válido.
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="password">Contraseña</label>
          <input type="password" class="form-control" name="password" [(ngModel)]="form.password" required minlength="6"
            #password="ngModel" />
          <div class="alert-danger" *ngIf="f.submitted && password.invalid">
            <div *ngIf="password.errors.required">La contraseña es requerida.</div>
            <div *ngIf="password.errors.minlength">
              La contraseña debe tener al menos 6 caracteres.
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="rePass">Repetir Contraseña</label>
          <input type="password" appConfirmEqualValidator="password" class="form-control" name="rePass" [(ngModel)]="form.rePass" required
                 #rePass="ngModel" >
          <div class="alert-danger" *ngIf="f.submitted && rePass.invalid ">
            <div *ngIf="rePass.errors.required">
              Repetir contraseña es requerido.
            </div>
            <div *ngIf="rePass.errors?.notEqual && !rePass.errors?.required">
              La contraseña debe ser igual.
            </div>
          </div>
         
        </div>
        <!-- <div class="form-group">
          <label>City</label>
          <select *ngFor="let city of cityService.cities" 
          name="idCity" [(ngModel)]="form.idCity" keyboardType="number"
          class="form-control">
            <option value={{city.id}}>{{city.nameCity}}</option>
          </select>
        </div> -->
  
        <!-- <div class="form-group">
          <label>Country</label>
          <select *ngFor="let country of countryService.countries"
          name="idCountry" [(ngModel)]="form.idCountry" keyboardType="number"
          class="form-control">
            <option  value={{country.id}}>{{country.name}}</option>
          </select>
        </div> -->
  
        <div class="form-group">
          <label>País</label>
          <select 
          name="idDataCountry" 
          [(ngModel)]="form.idDataCountry"
           keyboardType="number"
           placeholder="Seleccionar País"
           class="form-control">
            <option  *ngFor="let dataCountry of dataCountryService.dataCountries" 
            value={{dataCountry.id}}>{{dataCountry.country}}</option>
          </select>
          
        </div>
  
  
        <div class="form-group">
          <button name="registerButton" class="btn btn-primary btn-block">Registrarse</button>
        </div>
  
        <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
          Signup failed!<br />{{ errorMessage }}
        </div>
        <a href="auth/login" class="nav-link" >Iniciar Sesión</a>
      </form>
  
      <div class="alert alert-success" *ngIf="isSuccessful">
        ¡Te has registrado exitosamente! :)
      </div>
    </div>
  </div>
